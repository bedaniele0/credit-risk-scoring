# ============================================================================
# .env.example - Variables de Entorno del Proyecto
# ============================================================================
# Copiar este archivo a .env y completar con valores reales
#
# Autor: Ing. Daniel Varela Perez
# Email: bedaniele0@gmail.com
# Metodología: DVP-PRO
# ============================================================================

# Environment
ENVIRONMENT=production  # dev, staging, production

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false

# Model Configuration
MODEL_PATH=models/final_model.joblib
MODEL_VERSION=1.0.0
OPTIMAL_THRESHOLD=0.12  # Threshold optimizado (vs 0.5 estándar)

# MLflow Configuration
MLFLOW_TRACKING_URI=file:./mlruns  # o http://mlflow-server:5000
MLFLOW_EXPERIMENT_NAME=credit-risk-scoring
MLFLOW_REGISTRY_URI=
MLFLOW_REGISTERED_MODEL_NAME=credit-risk-model

# Data Configuration
DATA_PATH=data/raw/
PROCESSED_DATA_PATH=data/processed/
PREDICTIONS_PATH=data/predictions/
UCI_DATASET_PATH=data/raw/UCI_Credit_Card.csv

# Monitoring
ENABLE_MONITORING=true
DRIFT_THRESHOLD=0.1
PERFORMANCE_CHECK_INTERVAL=3600  # seconds
ENABLE_DRIFT_DETECTION=true
ENABLE_PERFORMANCE_ALERTS=true

# Alertas - Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#credit-risk-alerts
SLACK_ENABLED=false

# Alertas - Microsoft Teams
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/WEBHOOK/URL
TEAMS_ENABLED=false

# Alertas - Email (opcional)
ALERT_EMAIL_FROM=alerts@yourcompany.com
ALERT_EMAIL_TO=bedaniele0@gmail.com
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
EMAIL_ENABLED=false

# Alertas - Webhook Genérico (opcional)
GENERIC_WEBHOOK_URL=
WEBHOOK_ENABLED=false

# Database (opcional - para logs de predicciones)
DATABASE_URL=postgresql://user:password@localhost:5432/credit_risk
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DATABASE_ENABLED=false

# Redis (opcional - para caching)
REDIS_URL=redis://localhost:6379/0
CACHE_TTL=3600
REDIS_ENABLED=false

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/credit_risk.log
LOG_FORMAT=json  # json o text
LOG_ROTATION=daily  # daily, weekly, monthly

# Security
API_KEY=
JWT_SECRET_KEY=
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8501
ENABLE_API_KEY_AUTH=false

# Prometheus & Grafana (opcional)
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=admin123
MONITORING_ENABLED=false

# Dashboard
DASHBOARD_PORT=8501
DASHBOARD_TITLE=Credit Risk Scoring Dashboard
DASHBOARD_THEME=light  # light, dark

# Credit Risk Specific
# Bandas de riesgo
APROBADO_THRESHOLD=0.20  # PD < 20% = APROBADO
REVISION_THRESHOLD=0.50  # 20% <= PD < 50% = REVISION
# PD >= 50% = RECHAZO

# Costos de negocio (para threshold optimization)
COST_FALSE_POSITIVE=1000   # MXN - Costo de rechazar buen cliente
COST_FALSE_NEGATIVE=10000  # MXN - Costo de aprobar mal cliente
COST_TRUE_POSITIVE=100     # MXN - Beneficio de detectar mal cliente
COST_TRUE_NEGATIVE=50      # MXN - Beneficio de aprobar buen cliente

# Feature Engineering
ENABLE_FEATURE_ENGINEERING=true
FEATURE_VERSION=1.0.0

# Model Validation Thresholds
MIN_AUC_ROC=0.75
MIN_KS_STATISTIC=0.30
MIN_RECALL=0.70
MAX_BRIER_SCORE=0.20
MIN_EXPECTED_SAVINGS=1000000  # MXN

# Feature Flags
ENABLE_MLFLOW_TRACKING=true
ENABLE_FEATURE_STORE=false
ENABLE_REALTIME_PREDICTIONS=true
ENABLE_BATCH_PREDICTIONS=true
ENABLE_AB_TESTING=false
ENABLE_MODEL_REGISTRY=true

# Performance
MAX_BATCH_SIZE=1000
PREDICTION_TIMEOUT=30  # seconds
ENABLE_PARALLEL_PROCESSING=true
N_JOBS=-1

# Rate Limiting (API)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds
ENABLE_RATE_LIMITING=false

# Model Calibration
CALIBRATION_METHOD=isotonic  # isotonic, sigmoid, none
ENABLE_CALIBRATION=true

# Explainability (SHAP)
ENABLE_SHAP_EXPLANATIONS=false
SHAP_SAMPLE_SIZE=100

# DVP-PRO Metadata
PROJECT_NAME=credit-risk-scoring
PROJECT_VERSION=1.0.0
AUTHOR=Ing. Daniel Varela Perez
METHODOLOGY=DVP-PRO
CONTACT_EMAIL=bedaniele0@gmail.com
CONTACT_PHONE=+52 55 4189 3428

# UCI Dataset Specific
UCI_DATASET_URL=https://archive.ics.uci.edu/ml/datasets/default+of+credit+card+clients
UCI_DATASET_SIZE=30000
UCI_FEATURES_COUNT=23
UCI_DEFAULT_RATE=0.22  # 22% default rate
